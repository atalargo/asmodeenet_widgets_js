webpackJsonp([3],{"2hHA":function(e,t,a){var n=a("GJ5T"),r=a("W9uE").document,s=n(r)&&n(r.createElement);e.exports=function(e){return s?r.createElement(e):{}}},"7Mi/":function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"b",function(){return s});var n=a("XQ85");const r=new n.a;r.maxAge=6e5;const s=new n.a;s.maxAge=864e5},"7RYa":function(e,t,a){var n=a("mfMl");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("pFN4").default)("01d6a9c3",n,!0,{})},ByyM:function(e,t,a){"use strict";var n=a("wYgs"),r=a("7Mi/");const s={all:()=>n.a.http.get(n.a.convert("/v1/games"),{cache:r.b}),rankables:()=>n.a.http.get(n.a.convert("/v1/game/rankables"),{cache:r.b})};t.a=s},C6gt:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("rd7B"),r=a.n(n),s=a("wYgs"),i=a("ByyM"),c=a("wZkS"),o={name:"my-ranking",mixins:[a("DPF+").a],props:["game"],computed:{minGames:function(){return 20},progress:function(){return Math.floor(100*this.rank.nbgames/20)},gameId:function(){return this.game||this.config.game_id},inExpandList:function(){return this.config.expandedlist||!1},displayBigSize:function(){return this.config.listBig||!1},userId:function(){return this.config.userId||"me"},karma:function(){if(null===this.rank.karma)return"-";return"&bull;".repeat(Math.min(5,r()(this.rank.karma/20+1)))},score:function(){return null===this.rank.score?"-":Math.floor(this.rank.score)},gamesPlayedTransKey:function(){return this.isLogged?"games_played":"games_played_public"}},methods:{myRank:function(){if(this.gameId){var e=this;e.currentRankGame=e.gameId,i.a.rankables().then(function(t){e.isRankable=!!t.data.rankingGames.find(function(t){return t===e.gameId}),e.isRankable?c.a.rank(e.userId,e.gameId).then(function(t){e.rank=t.data.user}).catch(function(t){404===t.response.status&&(e.rank={nbgames:0,rank:null,karma:null,score:0})}):e.rank=null})}}},mounted:function(){s.a.ifInitialized(this.myRank)},updated:function(){var e=this;this.$nextTick(function(){e.currentRankGame!==e.game&&e.myRank()})},data:function(){return{rank:null,isRankable:null,currentRankGame:this.gameId}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("keep-alive",[(e.isLogged||e.userId)&&e.gameId?a("div",{staticClass:"myranking",attrs:{config:e.config}},[e.rank?[e.inExpandList?a("div",{staticClass:"chevron-action"},[a("font-awesome-icon",{attrs:{icon:"chevron-right",size:"3x"}})],1):e._e(),e._v(" "),e.inExpandList?a("li",{class:e.displayBigSize?"bigsize":"smallsize"},[a("span",[e._v(e._s(e.getTransChoice(e.rank.nbgames||0,e.gamesPlayedTransKey,{"%nb_played_games%":e.rank.nbgames||0})))])]):e._e(),e._v(" "),a("li",{class:(e.displayBigSize?"bigsize":"smallsize")+" "+(e.rank.nbgames<e.minGames?"hasprogress":"")},[a("span",[e._v(e._s(e.getTrans("my_score")||e.getTrans("score"))+" "+e._s(e.score||"-"))]),e._v(" "),e.rank.nbgames>=e.minGames?[a("span",[e._v(" - "+e._s(e.getTrans("my_rank"))+" "+e._s(e.rank.rank||"-")+" "),e.rank.rank<=3&&null!=e.rank.rank?a("span",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:e.getTrans("on_podium"),expression:"getTrans('on_podium')",modifiers:{auto:!0}}],staticClass:"fanet fanet-stack anet-ranked"}):e._e()])]:[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip.auto",value:{content:e.getTrans("missing_games",{"%nbgames%":e.minGames-(e.rank.nbgames||0)})},expression:"{content: getTrans('missing_games', {'%nbgames%': (minGames - (rank.nbgames || 0))})}",modifiers:{auto:!0}}],staticClass:"progress"},[a("div",{staticClass:"text-progress"},[e._v(e._s(e.rank.nbgames||0)+"/"+e._s(e.minGames))]),a("div",{staticClass:"progress-bar progress-bar-striped active",style:{width:e.progress+"%"},attrs:{role:"progressbar","aria-valuenow":e.progress,"aria-valuemin":"0","aria-valuemax":"100"}})])]],2),e._v(" "),e.inExpandList?a("li",{class:"ranked "+(e.displayBigSize?"bigsize":"smallsize")+" "+(e.rank.nbgames<e.minGames?"hasprogress":"")+" "+(e.rank.rank&&e.rank.rank<=3?"onpodium":"")},[a("span",[e._v(e._s(e.getTrans("karma"))+" "),a("span",{staticClass:"karma",domProps:{innerHTML:e._s(e.karma)}})])]):e._e(),e._v(" "),e.inExpandList&&e.displayBigSize?a("li",{staticClass:"bigsize"},[a("span",[e._v(e._s(e.getTrans("latest_game"))),a("time",{attrs:{"data-timestamp":e.rank.lastgame}},[["xs","xxs"].includes(e.$mq)?[e._v(e._s(e.$moment.unix(e.rank.lastgame).format("L HH:mm")))]:[e._v(e._s(e.$moment.unix(e.rank.lastgame).format("LLLL")))]],2)])]):e._e()]:[e.inExpandList?[e.isRankable&&e.inExpandList?a("div",{staticClass:"chevron-action"},[a("font-awesome-icon",{attrs:{icon:"chevron-right",size:"3x"}})],1):e._e(),e._v(" "),a("li",{class:e.displayBigSize?"bigsize":"smallsize"},[a("span",[e._v(e._s(e.getTransChoice(0,e.gamesPlayedTransKey,{"%nb_played_games%":"-"})))])]),e._v(" "),a("li",{class:e.displayBigSize?"bigsize":"smallsize"},[a("span",[e._v(e._s(e.getTrans("score"))+" -")])]),e._v(" "),a("li",{class:"unranked "+(e.displayBigSize?"bigsize":"smallsize")},[a("span",[e._v(e._s(e.getTrans("karma"))+" -")])])]:e._e()]],2):e._e()])},staticRenderFns:[]};var u=a("mUJo")(o,l,!1,function(e){a("7RYa")},"data-v-51cce97c",null);t.default=u.exports},"DPF+":function(e,t,a){"use strict";var n=a("vdRI"),r=function(e){delete e.target.onerror,e.target.src="https://cdn.daysofwonder.com/images/avatars/avatar-neutral.jpg"},s=function(e){delete e.target.onerror,delete e.target.src};var i=function(){const e=/^({(-?\d+(\.\d+)?\s*(,?\s*(-?\d+(\.\d+)?))*)})\s(.+)$/,t=/^(([[\]])\s*(-Inf|-?\d+(\.\d+)?)\s*,\s*(\+?Inf|-?\d+(\.\d+)?)\s*([[\]]))\s(.+)$/;function a(e){return"-Inf"===e?-1/0:"+Inf"===e||"Inf"===e?1/0:parseFloat(e)}let n=function(n,r){r=r.trim();let s=e.exec(r)||t.exec(r);if(!s)return console.error('"'+r+'" is not a valid interval.'),!1;if(s[3]){let e=a(s[3]),t=a(s[5]);return("["===s[2]?n>=e:n>e)&&("]"===s[7]?n<=t:n<t)}{let e=s[2].split(",");for(let t=0;t<e.length;t++){let a=e[t];if(n===parseInt(a))return!0}}return!1},r=function(e,t){switch("pt_BR"===t&&(t="xbr"),t.length>3&&(t=t.split("_")[0]),t){case"az":case"bo":case"dz":case"id":case"ja":case"jv":case"ka":case"km":case"kn":case"ko":case"ms":case"th":case"tr":case"vi":case"zh":return 0;case"af":case"bn":case"bg":case"ca":case"da":case"de":case"el":case"en":case"eo":case"es":case"et":case"eu":case"fa":case"fi":case"fo":case"fur":case"fy":case"gl":case"gu":case"ha":case"he":case"hu":case"is":case"it":case"ku":case"lb":case"ml":case"mn":case"mr":case"nah":case"nb":case"ne":case"nl":case"nn":case"no":case"oc":case"om":case"or":case"pa":case"pap":case"ps":case"pt":case"so":case"sq":case"sv":case"sw":case"ta":case"te":case"tk":case"ur":case"zu":return 1===e?0:1;case"am":case"bh":case"fil":case"fr":case"gun":case"hi":case"hy":case"ln":case"mg":case"nso":case"xbr":case"ti":case"wa":return 0===e||1===e?0:1;case"be":case"bs":case"hr":case"ru":case"sh":case"sr":case"uk":return 1===e&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;case"cs":case"sk":return 1===e?0:e>=2&&e<=4?1:2;case"ga":return 1===e?0:2===e?1:2;case"lt":return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2;case"sl":return e%100==1?0:e%100==2?1:e%100==3||e%100==4?2:3;case"mk":return e%10==1?0:1;case"mt":return 1===e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3;case"lv":return 0===e?0:e%10==1&&e%100!=11?1:2;case"pl":return 1===e?0:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?1:2;case"cy":return 1===e?0:2===e?1:8===e||11===e?2:3;case"ro":return 1===e?0:0===e||e%100>0&&e%100<20?1:2;case"ar":return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11&&e%100<=99?4:5;default:return 0}},s=function(e,t){return t&&Object.keys(t).forEach(function(a){e=e.replace(a,t[a])}),e};return{getTrans:function(e,t,a,n){if(void 0!==e[a]){return s(e[a],n)}return""},getTransChoice:function(a,i,c,o,l){if(void 0!==a[o]){let u=function(a,s,i){let c,o=a.split("|"),l={},u=[];o.forEach(function(a){a=a.replace("||","|").trim(),(c=e.exec(a))?l[c[0]]=c:(c=t.exec(a))?l[c[0]]=c:(c=/^\w+:\s*(.*?)$/.exec(a))?u.push(c[1]):u.push(a)});let p=Object.keys(l);for(let e=0;e<p.length;e++){let t=p[e];if(n(s,t))return l[t][l[t].length-1]}let g=r(s,i);return void 0===u[g]?1===o.length&&void 0!==u[0]?u[0]:(console.error('Unable to choose a translation for "'+a+'" with locale "'+i+'" for value "'+s+'". Double check that this translation has the correct plural options (e.g. "There is one apple|There are %%count%% apples").'),""):u[g]}(a[o],c,i);return s(u,l)}return""}}}();const c={props:["config"],computed:{title(){return this.getTrans(this.$options.name+"_title")},lang(){return this.$moment.locale()!==n.a.getters.globalOptions.lang&&this.$moment.locale(n.a.getters.globalOptions.lang),n.a.getters.globalOptions.lang},gameIconError:()=>s,avatarError:()=>r,isLogged:()=>!n.a.getters.unloggedMode,isIn3rdParty:()=>!!n.a.getters.globalOptions.in_3rd_party},methods:{getTrans(e,t){return i.getTrans(this.config.trans,this.lang,e,t)},getTransChoice(e,t,a){return i.getTransChoice(this.config.trans,this.lang,e,t,a)},baseHost:()=>n.a.getters.globalOptions.host?n.a.getters.globalOptions.host.replace(/\/$/,""):"",urlFor(e,t){if(t=t||{},this.config.urls&&this.config.urls[e]){let a="/"+this.lang+this.config.urls[e];return Object.keys(t).forEach(function(e){a=a.replace(":"+e,t[e])}),this.baseHost()+a}return""}}};t.a=c},"DVK/":function(e,t){var a={}.hasOwnProperty;e.exports=function(e,t){return a.call(e,t)}},"FtF+":function(e,t,a){var n=a("SZ/P");n(n.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},GJ5T:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},KktU:function(e,t,a){var n=a("qQMF"),r=a("Te4x");e.exports=a("V5XO")?function(e,t,a){return n.f(e,t,r(1,a))}:function(e,t,a){return e[t]=a,e}},SAmk:function(e,t,a){e.exports=!a("V5XO")&&!a("gHxa")(function(){return 7!=Object.defineProperty(a("2hHA")("div"),"a",{get:function(){return 7}}).a})},"SZ/P":function(e,t,a){var n=a("W9uE"),r=a("WsAY"),s=a("yhwo"),i=a("KktU"),c=a("DVK/"),o=function(e,t,a){var l,u,p,g=e&o.F,f=e&o.G,d=e&o.S,m=e&o.P,h=e&o.B,v=e&o.W,k=f?r:r[t]||(r[t]={}),y=k.prototype,b=f?n:d?n[t]:(n[t]||{}).prototype;for(l in f&&(a=t),a)(u=!g&&b&&void 0!==b[l])&&c(k,l)||(p=u?b[l]:a[l],k[l]=f&&"function"!=typeof b[l]?a[l]:h&&u?s(p,n):v&&b[l]==p?function(e){var t=function(t,a,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,a)}return new e(t,a,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(p):m&&"function"==typeof p?s(Function.call,p):p,m&&((k.virtual||(k.virtual={}))[l]=p,e&o.R&&y&&!y[l]&&i(y,l,p)))};o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,o.U=64,o.R=128,e.exports=o},Te4x:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},ToFw:function(e,t,a){var n=a("GJ5T");e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},V5XO:function(e,t,a){e.exports=!a("gHxa")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},W9uE:function(e,t){var a=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=a)},WsAY:function(e,t){var a=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=a)},gHxa:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},mfMl:function(e,t,a){(t=e.exports=a("Vmy+")(!1)).i(a("6Gtg"),""),t.push([e.i,".progress[data-v-51cce97c]{display:inline-table;width:200px}.progress .text-progress[data-v-51cce97c]{color:#ff18fb;float:left;text-align:center;width:100%}.progress .progress-bar[data-v-51cce97c]{background-color:#55387c;float:none}@media (max-width:449.98px){.myranking .progress[data-v-51cce97c]{width:100px}}@media (max-width:359.98px){.myranking .progress[data-v-51cce97c]{width:50px}}.h-tooltip.vue-tooltip[data-v-51cce97c]{background-color:red}.h-tooltip.vue-tooltip .tooltip-content[data-v-51cce97c]{font-size:.9em}@media (max-width:767.98px){.vue-tooltip .tooltip-content[data-v-51cce97c]{font-size:.8em}}.myranking[data-v-51cce97c]{position:relative;top:5px}.myranking[data-v-51cce97c] .fanet{color:#831fdb}.myranking[data-v-51cce97c] li,.myranking[data-v-51cce97c] ul{list-style:none;text-decoration:none}.myranking[data-v-51cce97c] li.smallsize{font-size:.9em}.myranking[data-v-51cce97c] li.smallsize.hasprogress{height:17px;position:relative;top:-4px}.myranking[data-v-51cce97c] li.smallsize span{top:-5px}.myranking[data-v-51cce97c] li.smallsize span.fanet.anet-ranked{height:21px}.myranking[data-v-51cce97c] li.smallsize:nth-of-type(3):not(.unranked) span{top:-10px}.myranking[data-v-51cce97c] li.smallsize:nth-of-type(3):not(.unranked) span.karma{top:0}.myranking[data-v-51cce97c] li.bigsize:nth-of-type(2){height:30px}.myranking[data-v-51cce97c] li.bigsize:nth-of-type(2):not(.hasprogress) span{position:relative;top:4px}.myranking[data-v-51cce97c] li.bigsize:nth-of-type(2) span.fanet.anet-ranked{height:21px;top:-10px}.myranking[data-v-51cce97c] li.bigsize:nth-of-type(3){height:30px}.myranking[data-v-51cce97c] li.bigsize:nth-of-type(3) span.fanet.anet-ranked{height:21px;top:-10px}.myranking[data-v-51cce97c] li.bigsize .progress{position:relative;top:4px}.myranking[data-v-51cce97c] span{position:relative;top:0}.myranking[data-v-51cce97c] span.fanet{top:-4px}.myranking[data-v-51cce97c] span.karma.ranked{font-size:2em;line-height:.5em;vertical-align:middle}.myranking[data-v-51cce97c] .clickable:hover{background-color:#d3d3d3;cursor:pointer}.myranking.unclickable[data-v-51cce97c] a,.myranking[data-v-51cce97c] a.unclickable{cursor:default;pointer-events:none}.myranking[data-v-51cce97c] .chevron-action{float:right;height:50px;position:relative;text-align:center;bottom:20px;vertical-align:middle}.myranking[data-v-51cce97c] .chevron-action .fa-chevron-right{position:relative;top:15px;color:#d3d3d3;font-weight:700}.myranking[data-v-51cce97c] :hover>.chevron-action .fa-chevron-right{color:#fff}",""])},"p0o+":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},qQMF:function(e,t,a){var n=a("ToFw"),r=a("SAmk"),s=a("scWE"),i=Object.defineProperty;t.f=a("V5XO")?Object.defineProperty:function(e,t,a){if(n(e),t=s(t,!0),n(a),r)try{return i(e,t,a)}catch(e){}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");return"value"in a&&(e[t]=a.value),e}},rd7B:function(e,t,a){e.exports={default:a("w3AY"),__esModule:!0}},scWE:function(e,t,a){var n=a("GJ5T");e.exports=function(e,t){if(!n(e))return e;var a,r;if(t&&"function"==typeof(a=e.toString)&&!n(r=a.call(e)))return r;if("function"==typeof(a=e.valueOf)&&!n(r=a.call(e)))return r;if(!t&&"function"==typeof(a=e.toString)&&!n(r=a.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},w3AY:function(e,t,a){a("FtF+"),e.exports=a("WsAY").Math.trunc},wZkS:function(e,t,a){"use strict";var n=a("wYgs"),r=a("7Mi/");const s={achievements:e=>(e=e||"me",n.a.http.get(n.a.convert("/v1/user/"+e+"?extras=achievements","achievements"),{cache:r.b})),activities:e=>n.a.http.get(n.a.convert("/v1/user/"+e+"?extras=userapps","activity"),{cache:r.a}),onlineGames:(e,t)=>n.a.http.get(n.a.convert("/v1/user/"+e+"/games/summary"+(t?"/"+t:"")),{cache:r.a}),rank:(e,t)=>n.a.http.get(n.a.convert("/v1/user/"+e+"/rank/"+t),{cache:r.a}),myRank:e=>s.rank("me",e),buddiesCollection:()=>n.a.http.get("/v1/user/me/buddies/collection",{cache:r.b}),addBuddy:e=>n.a.http.post("/v1/user/me/buddies/"+e),removeBuddy:e=>n.a.http.delete("/v1/user/me/buddies/"+e)};t.a=s},yhwo:function(e,t,a){var n=a("p0o+");e.exports=function(e,t,a){if(n(e),void 0===t)return e;switch(a){case 1:return function(a){return e.call(t,a)};case 2:return function(a,n){return e.call(t,a,n)};case 3:return function(a,n,r){return e.call(t,a,n,r)}}return function(){return e.apply(t,arguments)}}}});
//# sourceMappingURL=asnetapi.3.ab5bd557e5b803c5be1f.js.map