webpackJsonp([5],{"/kcm":function(e,a,t){(e.exports=t("Vmy+")(!1)).push([e.i,"ol[data-v-a41a3b86],ul[data-v-a41a3b86]{margin-bottom:10px;margin-top:0}.list-inline[data-v-a41a3b86]{list-style:none;margin-left:-5px;padding-left:0}.list-inline li[data-v-a41a3b86]{display:inline-block;padding-left:5px;padding-right:5px}.player-collection.public[data-v-a41a3b86] h2{color:#55387c}.player-collection.public[data-v-a41a3b86] .info h2{color:#831fdb}.panel.game[data-v-a41a3b86] .panel-body{height:inherit;padding:0}.panel.game[data-v-a41a3b86] h2{font-size:1.5em;max-height:140px;margin-top:0}.panel.game[data-v-a41a3b86] img.icon{height:100%;margin-bottom:10px;margin-top:10px;max-height:100px;max-width:100px;min-height:40px;min-width:40px;width:100%}.panel.game[data-v-a41a3b86] .list-inline.achievements li{min-height:30px;min-width:30px;max-height:60px;max-width:80px}.panel.game[data-v-a41a3b86] .list-inline.achievements li img.icon.ribbon{height:100%;min-height:20px}.panel.game[data-v-a41a3b86] a{color:#333;text-decoration:none}.panel.game[data-v-a41a3b86] .panel-body .row{margin-left:0;margin-right:0}.panel.game[data-v-a41a3b86] .panel-body .row.clickable:hover{background-color:#d3d3d3;cursor:pointer}.panel.game[data-v-a41a3b86] .panel-body .row.clickable:hover .fa-chevron-right{color:#fff}.panel.game[data-v-a41a3b86] .panel-body .row .chevron-action{bottom:-25px}.panel.game[data-v-a41a3b86] .panel-body .row .col-content{padding:0 10px 0 0}.panel.game[data-v-a41a3b86] .panel-body .row .col-content.icon{text-align:center;vertical-align:middle}@media (max-width:767.98px){.player-collection.public .panel.game .info h2[data-v-a41a3b86]{font-size:1em}}",""])},"1TPe":function(e,a,t){var i=t("/kcm");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,t("pFN4").default)("6b7d819a",i,!0,{})},"7Mi/":function(e,a,t){"use strict";t.d(a,"a",function(){return n}),t.d(a,"b",function(){return s});var i=t("XQ85");const n=new i.a;n.maxAge=6e5;const s=new i.a;s.maxAge=864e5},ByyM:function(e,a,t){"use strict";var i=t("wYgs"),n=t("7Mi/");const s={all:()=>i.a.http.get(i.a.convert("/v1/games"),{cache:n.b}),rankables:()=>i.a.http.get(i.a.convert("/v1/game/rankables"),{cache:n.b})};a.a=s},"DPF+":function(e,a,t){"use strict";var i=t("vdRI"),n=function(e){delete e.target.onerror,e.target.src="https://cdn.daysofwonder.com/images/avatars/avatar-neutral.jpg"},s=function(e){delete e.target.onerror,delete e.target.src};var c=function(){const e=/^({(-?\d+(\.\d+)?\s*(,?\s*(-?\d+(\.\d+)?))*)})\s(.+)$/,a=/^(([[\]])\s*(-Inf|-?\d+(\.\d+)?)\s*,\s*(\+?Inf|-?\d+(\.\d+)?)\s*([[\]]))\s(.+)$/;function t(e){return"-Inf"===e?-1/0:"+Inf"===e||"Inf"===e?1/0:parseFloat(e)}let i=function(i,n){n=n.trim();let s=e.exec(n)||a.exec(n);if(!s)return console.error('"'+n+'" is not a valid interval.'),!1;if(s[3]){let e=t(s[3]),a=t(s[5]);return("["===s[2]?i>=e:i>e)&&("]"===s[7]?i<=a:i<a)}{let e=s[2].split(",");for(let a=0;a<e.length;a++){let t=e[a];if(i===parseInt(t))return!0}}return!1},n=function(e,a){switch("pt_BR"===a&&(a="xbr"),a.length>3&&(a=a.split("_")[0]),a){case"az":case"bo":case"dz":case"id":case"ja":case"jv":case"ka":case"km":case"kn":case"ko":case"ms":case"th":case"tr":case"vi":case"zh":return 0;case"af":case"bn":case"bg":case"ca":case"da":case"de":case"el":case"en":case"eo":case"es":case"et":case"eu":case"fa":case"fi":case"fo":case"fur":case"fy":case"gl":case"gu":case"ha":case"he":case"hu":case"is":case"it":case"ku":case"lb":case"ml":case"mn":case"mr":case"nah":case"nb":case"ne":case"nl":case"nn":case"no":case"oc":case"om":case"or":case"pa":case"pap":case"ps":case"pt":case"so":case"sq":case"sv":case"sw":case"ta":case"te":case"tk":case"ur":case"zu":return 1===e?0:1;case"am":case"bh":case"fil":case"fr":case"gun":case"hi":case"hy":case"ln":case"mg":case"nso":case"xbr":case"ti":case"wa":return 0===e||1===e?0:1;case"be":case"bs":case"hr":case"ru":case"sh":case"sr":case"uk":return 1===e&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;case"cs":case"sk":return 1===e?0:e>=2&&e<=4?1:2;case"ga":return 1===e?0:2===e?1:2;case"lt":return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2;case"sl":return e%100==1?0:e%100==2?1:e%100==3||e%100==4?2:3;case"mk":return e%10==1?0:1;case"mt":return 1===e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3;case"lv":return 0===e?0:e%10==1&&e%100!=11?1:2;case"pl":return 1===e?0:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?1:2;case"cy":return 1===e?0:2===e?1:8===e||11===e?2:3;case"ro":return 1===e?0:0===e||e%100>0&&e%100<20?1:2;case"ar":return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11&&e%100<=99?4:5;default:return 0}},s=function(e,a){return a&&Object.keys(a).forEach(function(t){e=e.replace(t,a[t])}),e};return{getTrans:function(e,a,t,i){if(void 0!==e[t]){return s(e[t],i)}return""},getTransChoice:function(t,c,r,o,l){if(void 0!==t[o]){let d=function(t,s,c){let r,o=t.split("|"),l={},d=[];o.forEach(function(t){t=t.replace("||","|").trim(),(r=e.exec(t))?l[r[0]]=r:(r=a.exec(t))?l[r[0]]=r:(r=/^\w+:\s*(.*?)$/.exec(t))?d.push(r[1]):d.push(t)});let u=Object.keys(l);for(let e=0;e<u.length;e++){let a=u[e];if(i(s,a))return l[a][l[a].length-1]}let m=n(s,c);return void 0===d[m]?1===o.length&&void 0!==d[0]?d[0]:(console.error('Unable to choose a translation for "'+t+'" with locale "'+c+'" for value "'+s+'". Double check that this translation has the correct plural options (e.g. "There is one apple|There are %%count%% apples").'),""):d[m]}(t[o],r,c);return s(d,l)}return""}}}();const r={props:["config"],computed:{title(){return this.getTrans(this.$options.name+"_title")},lang(){return this.$moment.locale()!==i.a.getters.globalOptions.lang&&this.$moment.locale(i.a.getters.globalOptions.lang),i.a.getters.globalOptions.lang},gameIconError:()=>s,avatarError:()=>n,isLogged:()=>!i.a.getters.unloggedMode,isIn3rdParty:()=>!!i.a.getters.globalOptions.in_3rd_party},methods:{getTrans(e,a){return c.getTrans(this.config.trans,this.lang,e,a)},getTransChoice(e,a,t){return c.getTransChoice(this.config.trans,this.lang,e,a,t)},baseHost:()=>i.a.getters.globalOptions.host?i.a.getters.globalOptions.host.replace(/\/$/,""):"",urlFor(e,a){if(a=a||{},this.config.urls&&this.config.urls[e]){let t="/"+this.lang+this.config.urls[e];return Object.keys(a).forEach(function(e){t=t.replace(":"+e,a[e])}),this.baseHost()+t}return""}}};a.a=r},fyPs:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t("uj17"),n=t.n(i),s=t("vdRI"),c=t("wYgs"),r=t("ByyM"),o=t("wZkS"),l=t("DPF+");var d={methods:{hasAtLeastOneValidAchievement(e){return void 0!==e.find(this.validAchievementToDisplay)},validAchievementToDisplay(e){return!(null===this.getAchievementDescription(e,"")&&!e.picture&&!e.ribbon)},getAchievementDescription(e,a){if(void 0===e.texts)return null;let t=void 0!==e.texts[this.lang]?e.texts[this.lang]:e.texts.en,i="";return(t=t||{description:null,name:null}).name&&(i="<p><b>"+t.name+"</b></p>"),e.awarded_ts&&(i+='<p><small><time date="'+e.awarded_ts+'">'+a+"</time></small></p>"),t.description&&(i+="<p>"+t.description+"</p>"),i}}},u={name:"user_public_collection",mixins:[l.a,d],computed:{displayWidth:function(){return this.config.width?this.config.width:"100%"},displayHeight:function(){return this.config.height?this.config.height:"50px"},userProfileId:function(){return this.config.userProfile.id},displayZoom:function(){return this.config.zoom?this.config.zoom:"1"}},methods:{getCollection:function(){var e=this;n.a.all([o.a.activities(this.userProfileId),o.a.achievements(this.userProfileId),r.a.all(),r.a.rankables()]).then(n.a.spread(function(a,t,i,n){e.rankables=n.data.rankingGames,e.games=i.data.games,e.achievements=t.data.user.achievements,e.user=a.data.user,s.a.getters.unloggedMode?e.activities=a.data.activities:e.activities=a.data.user.userapps}))},isRankable:function(e){return this.rankables&&this.rankables.findIndex(function(a){return a===e})>=0}},mounted:function(){c.a.ifInitialized(this.getCollection)},data:function(){return{games:null,activities:null,achievements:null,rankables:null,user:null}}},m={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"player-collection public",style:{width:e.displayWidth,"min-height":e.displayHeight,zoom:e.displayZoom},attrs:{config:e.config}},[e.user?t("h2",[e._v(e._s(e.getTrans("user_public_collection_title",{"%login%":e.user.login_name})))]):e._e(),e._v(" "),null===e.activities&&null===e.achievements?[t("LoadingComp")]:[e.activities.length>0?e._l(e.activities,function(a){return e.games[a.game_id]?t("panel",{key:a.client_id,staticClass:"game",attrs:{id:"activity-"+a.game_id,config:{width:"100%",height:"30px",bodyHeight:"inherit"}}},[t("template",{slot:"body"},[t("div",{class:"row "+(e.isRankable(a.game_id)?"clickable":"unclickable")},[t("a",{class:e.isRankable(a.game_id)?"clickable":"unclickable",attrs:{href:e.isRankable(a.game_id)?e.urlFor("rankings-game",{id:a.game_id}):"",target:e.isIn3rdParty?"_blank":"_self"}},[t("div",{staticClass:"col-md-2 col-sm-2 col-xs-3 col-content icon"},[e.games[a.game_id].icon?t("img",{staticClass:"icon game fixed",attrs:{src:e.games[a.game_id].icon},on:{error:e.gameIconError}}):e._e()]),e._v(" "),t("div",{staticClass:"col-md-10 col-sm-10 col-xs-9 col-content info"},[e.isRankable(a.game_id)?t("div",{staticClass:"chevron-action"},[t("font-awesome-icon",{attrs:{icon:"chevron-right",size:"3x"}})],1):e._e(),e._v(" "),t("h2",[e._v(e._s(e.games[a.game_id].name)+" "),t("small",[["xs","xxs"].includes(e.$mq)?[t("time",{attrs:{date:a.last_used}},[e._v(e._s(e.$moment.unix(a.last_used).format("L HH:mm")))])]:[e._v(e._s(e.getTrans("last_used"))+" "),t("time",{attrs:{date:a.last_used}},[e._v(e._s(e.$moment.unix(a.last_used).format("LLLL")))])]],2)]),e._v(" "),Object.keys(e.achievements).length>0?[t("ul",{staticClass:"list-inline achievements"},e._l(e.achievements[a.game_id],function(i){return e.achievements[a.game_id]&&e.hasAtLeastOneValidAchievement(e.achievements[a.game_id])?t("li",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{html:"achievement_tooltip_"+a.game_id+"_"+i.id,positioning:"bottom"},expression:"{html: 'achievement_tooltip_' + activity.game_id + '_' + ach.id, positioning: 'bottom'}"}],key:i.id},[t("img",{class:"icon"+(i.ribbon?" ribbon":""),attrs:{src:i.ribbon?i.ribbon:i.picture}}),e._v(" "),t("div",{staticClass:"tooltip-content",attrs:{id:"achievement_tooltip_"+a.game_id+"_"+i.id},domProps:{innerHTML:e._s(e.getAchievementDescription(i,e.$moment.unix(i.awarded_ts).format("LLLL")))}})]):e._e()}))]:e._e()],2)])])])],2):e._e()}):[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("p",[t("b",[e._v(e._s(e.getTrans("noplay")))])])])])]]],2)},staticRenderFns:[]};var g=t("mUJo")(u,m,!1,function(e){t("1TPe")},"data-v-a41a3b86",null);a.default=g.exports},wZkS:function(e,a,t){"use strict";var i=t("wYgs"),n=t("7Mi/");const s={achievements:e=>(e=e||"me",i.a.http.get(i.a.convert("/v1/user/"+e+"?extras=achievements","achievements"),{cache:n.b})),activities:e=>i.a.http.get(i.a.convert("/v1/user/"+e+"?extras=userapps","activity"),{cache:n.a}),onlineGames:(e,a)=>i.a.http.get(i.a.convert("/v1/user/"+e+"/games/summary"+(a?"/"+a:"")),{cache:n.a}),rank:(e,a)=>i.a.http.get(i.a.convert("/v1/user/"+e+"/rank/"+a),{cache:n.a}),myRank:e=>s.rank("me",e),buddiesCollection:()=>i.a.http.get("/v1/user/me/buddies/collection",{cache:n.b}),addBuddy:e=>i.a.http.post("/v1/user/me/buddies/"+e),removeBuddy:e=>i.a.http.delete("/v1/user/me/buddies/"+e)};a.a=s}});
//# sourceMappingURL=asnetapi.5.65842984625c2e368fc5.js.map