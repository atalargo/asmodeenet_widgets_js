webpackJsonp([7],{"5cRM":function(a,t,e){(a.exports=e("Vmy+")(!1)).push([a.i,"nav[data-v-6ff086dc]{text-align:center}nav .pagination[data-v-6ff086dc]{font-size:.9em}nav .pagination[data-v-6ff086dc] li.next a,nav .pagination[data-v-6ff086dc] li.previous a{cursor:pointer}nav .pagination[data-v-6ff086dc] li.next.disabled a,nav .pagination[data-v-6ff086dc] li.previous.disabled a{cursor:not-allowed}nav .pagination[data-v-6ff086dc] li a{color:#55387c}nav .pagination[data-v-6ff086dc] li.active a{color:#fff}@media (max-width:991.98px){nav .pagination[data-v-6ff086dc] .pagination a{padding:4px 9px}}@media (max-width:449.98px){nav .pagination[data-v-6ff086dc] .pagination{font-size:.8em;margin:1em 0}nav .pagination[data-v-6ff086dc] .pagination a{padding:3px 6px}}@media (max-width:359.98px){nav .pagination[data-v-6ff086dc] a,nav .pagination[data-v-6ff086dc] span{padding:3px 6px}}",""])},"6xwZ":function(a,t,e){var i=e("5cRM");"string"==typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);(0,e("pFN4").default)("079f7e18",i,!0,{})},"7Mi/":function(a,t,e){"use strict";e.d(t,"a",function(){return n}),e.d(t,"b",function(){return s});var i=e("XQ85");const n=new i.a;n.maxAge=6e5;const s=new i.a;s.maxAge=864e5},ByyM:function(a,t,e){"use strict";var i=e("wYgs"),n=e("7Mi/");const s={all:()=>i.a.http.get(i.a.convert("/v1/games"),{cache:n.b}),rankables:()=>i.a.http.get(i.a.convert("/v1/game/rankables"),{cache:n.b}),achievements:a=>i.a.http.get(i.a.convert("/v1/game/"+a+"/achievements?limit=200"),{cache:n.b}),crosspromo:(a,t)=>i.a.http.get(i.a.convert("/v1/game/"+a+"/product/"+t),{cache:n.b})};t.a=s},"DPF+":function(a,t,e){"use strict";var i=e("vdRI"),n=function(a){delete a.target.onerror,a.target.src="https://cdn.daysofwonder.com/images/avatars/avatar-neutral.jpg"},s=function(a){delete a.target.onerror,delete a.target.src},r=function(a){delete a.target.onerror,delete a.target.src},c=function(a){delete a.target.onerror,delete a.target.src};var o=function(){const a=/^({(-?\d+(\.\d+)?\s*(,?\s*(-?\d+(\.\d+)?))*)})\s(.+)$/,t=/^(([[\]])\s*(-Inf|-?\d+(\.\d+)?)\s*,\s*(\+?Inf|-?\d+(\.\d+)?)\s*([[\]]))\s(.+)$/;function e(a){return"-Inf"===a?-1/0:"+Inf"===a||"Inf"===a?1/0:parseFloat(a)}let i=function(i,n){n=n.trim();let s=a.exec(n)||t.exec(n);if(!s)return console.error('"'+n+'" is not a valid interval.'),!1;if(s[3]){let a=e(s[3]),t=e(s[5]);return("["===s[2]?i>=a:i>a)&&("]"===s[7]?i<=t:i<t)}{let a=s[2].split(",");for(let t=0;t<a.length;t++){let e=a[t];if(i===parseInt(e))return!0}}return!1},n=function(a,t){switch("pt_BR"===t&&(t="xbr"),t.length>3&&(t=t.split("_")[0]),t){case"az":case"bo":case"dz":case"id":case"ja":case"jv":case"ka":case"km":case"kn":case"ko":case"ms":case"th":case"tr":case"vi":case"zh":return 0;case"af":case"bn":case"bg":case"ca":case"da":case"de":case"el":case"en":case"eo":case"es":case"et":case"eu":case"fa":case"fi":case"fo":case"fur":case"fy":case"gl":case"gu":case"ha":case"he":case"hu":case"is":case"it":case"ku":case"lb":case"ml":case"mn":case"mr":case"nah":case"nb":case"ne":case"nl":case"nn":case"no":case"oc":case"om":case"or":case"pa":case"pap":case"ps":case"pt":case"so":case"sq":case"sv":case"sw":case"ta":case"te":case"tk":case"ur":case"zu":return 1===a?0:1;case"am":case"bh":case"fil":case"fr":case"gun":case"hi":case"hy":case"ln":case"mg":case"nso":case"xbr":case"ti":case"wa":return 0===a||1===a?0:1;case"be":case"bs":case"hr":case"ru":case"sh":case"sr":case"uk":return 1===a&&a%100!=11?0:a%10>=2&&a%10<=4&&(a%100<10||a%100>=20)?1:2;case"cs":case"sk":return 1===a?0:a>=2&&a<=4?1:2;case"ga":return 1===a?0:2===a?1:2;case"lt":return a%10==1&&a%100!=11?0:a%10>=2&&(a%100<10||a%100>=20)?1:2;case"sl":return a%100==1?0:a%100==2?1:a%100==3||a%100==4?2:3;case"mk":return a%10==1?0:1;case"mt":return 1===a?0:0===a||a%100>1&&a%100<11?1:a%100>10&&a%100<20?2:3;case"lv":return 0===a?0:a%10==1&&a%100!=11?1:2;case"pl":return 1===a?0:a%10>=2&&a%10<=4&&(a%100<12||a%100>14)?1:2;case"cy":return 1===a?0:2===a?1:8===a||11===a?2:3;case"ro":return 1===a?0:0===a||a%100>0&&a%100<20?1:2;case"ar":return 0===a?0:1===a?1:2===a?2:a%100>=3&&a%100<=10?3:a%100>=11&&a%100<=99?4:5;default:return 0}},s=function(a,t){return t&&Object.keys(t).forEach(function(e){a=a.replace(e,t[e])}),a};return{getTrans:function(a,t,e,i){if(void 0!==a[e]){return s(a[e],i)}return""},getTransChoice:function(e,r,c,o,d){if(void 0!==e[o]){let l=function(e,s,r){let c,o=e.split("|"),d={},l=[];o.forEach(function(e){e=e.replace("||","|").trim(),(c=a.exec(e))?d[c[0]]=c:(c=t.exec(e))?d[c[0]]=c:(c=/^\w+:\s*(.*?)$/.exec(e))?l.push(c[1]):l.push(e)});let u=Object.keys(d);for(let a=0;a<u.length;a++){let t=u[a];if(i(s,t))return d[t][d[t].length-1]}let g=n(s,r);return void 0===l[g]?1===o.length&&void 0!==l[0]?l[0]:(console.error('Unable to choose a translation for "'+e+'" with locale "'+r+'" for value "'+s+'". Double check that this translation has the correct plural options (e.g. "There is one apple|There are %%count%% apples").'),""):l[g]}(e[o],c,r);return s(l,d)}return""}}}();const d={props:["config"],computed:{title(){return this.getTrans(this.$options.name+"_title")},lang(){return this.$moment.locale()!==i.a.getters.globalOptions.lang&&this.$moment.locale(i.a.getters.globalOptions.lang),i.a.getters.globalOptions.lang},gameIconError:()=>s,avatarError:()=>n,achievementError:()=>r,genericImageError:()=>c,isLogged:()=>!i.a.getters.unloggedMode,isIn3rdParty:()=>!!i.a.getters.globalOptions.in_3rd_party,baseHost:()=>i.a.getters.globalOptions.host?i.a.getters.globalOptions.host.replace(/\/$/,""):"",baseISImageHost:()=>"https://ncdn.asmodee.net/is/img/"},methods:{getTrans(a,t){return o.getTrans(this.config.trans,this.lang,a,t)},getTransChoice(a,t,e){return o.getTransChoice(this.config.trans,this.lang,a,t,e)},urlFor(a,t){if(t=t||{},this.config.urls&&this.config.urls[a]){let e=this.config.urls[a];return Object.keys(t).forEach(function(a){e=e.replace(":"+a,t[a])}),/^\/[a-z]{2}\/.*/.exec(e)||(e="/"+this.lang+e),this.baseHost+e}return""},goToGame(a){let t=this.urlFor("game-index",{id:a});this.isIn3rdParty?window.open(t):window.location=t},goToGameRanking(a){let t=this.urlFor("rankings-game",{id:a});this.isIn3rdParty?window.open(t):window.location=t},forceHTTPS:a=>a?a.replace("^http://","https://"):a}};t.a=d},MgXD:function(a,t,e){"use strict";var i=e("wYgs");t.a=((a,t,e,n)=>{t=t||1,n=n||{},e.limit=e.limit||10,e.offset=(t-1)*e.limit,n.total&&e.offset>n.total&&(e.offset=n.total);let s={params:e};return n.cache&&(s.cache=n.cache),i.a.http.get(i.a.convert(a),s)})},hYtS:function(a,t,e){"use strict";var i={props:{lang:String,currentPage:{type:Number,required:!0,validator:function(a){return a>0}},pageCount:{type:Number,required:!0,validator:function(a){return a>=0}},size:{type:Number,required:!1,default:15,validator:function(a){return a%2==1}}},computed:{pageRange:function(){var a=Math.max(1,this.currentPage-Math.floor(this.size/2));return a=Math.max(1,Math.min(a,this.pageCount-this.size+1)),Array.apply(null,{length:Math.min(this.pageCount,this.size)}).map(function(t,e){return e+a})}},methods:{navigate:function(a){a>this.pageCount||a===this.currentPage||a<=0||this.$emit("navigate",a)}},data:function(){return{}}},n={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return a.pageCount>1?e("nav",{attrs:{"aria-label":"Page navigation"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"first",class:{disabled:1===a.currentPage}},[e("a",{attrs:{href:"#",disabled:1===a.currentPage},on:{click:function(t){t.preventDefault(),a.navigate(1)}}},[a._v("<<")])]),a._v(" "),1===a.size||a.pageRange.length>=3?e("li",{staticClass:"previous",class:{disabled:1===a.currentPage}},[e("a",{attrs:{href:"#",disabled:1===a.currentPage},on:{click:function(t){t.preventDefault(),a.navigate(a.currentPage-1)}}},[a._v("<")])]):a._e(),a._v(" "),1===a.size?[e("li",{staticClass:"disabled"},[e("a",{attrs:{disabled:"1"}},[["xs","xxs"].includes(a.$mq)?a._e():[a._v(a._s("de"===a.lang?"Seite":"Page")+" ")],a._v(a._s(a.currentPage)+" "+a._s("fr"===a.lang?"sur":"de"===a.lang?"von":"of")+" "+a._s(a.pageCount))],2)])]:a._l(a.pageRange,function(t){return e("li",{key:t,class:{active:t===a.currentPage},attrs:{"data-page":t}},[e("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),a.navigate(t)}}},[a._v(a._s(t))])])}),a._v(" "),1===a.size||a.pageRange.length>=3?e("li",{staticClass:"next",class:{disabled:a.currentPage+1>a.pageCount}},[e("a",{attrs:{href:"#",disabled:a.currentPage+1>a.pageCount},on:{click:function(t){t.preventDefault(),a.navigate(a.currentPage+1)}}},[a._v(">")])]):a._e(),a._v(" "),e("li",{staticClass:"last",class:{disabled:a.currentPage>=a.pageCount}},[e("a",{attrs:{href:"#",disabled:a.currentPage>=a.pageCount},on:{click:function(t){t.preventDefault(),a.navigate(a.pageCount)}}},[a._v(">>")])])],2)]):a._e()},staticRenderFns:[]};var s=e("mUJo")(i,n,!1,function(a){e("6xwZ")},"data-v-6ff086dc",null);t.a=s.exports},ljL0:function(a,t,e){var i=e("s4QZ");"string"==typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);(0,e("pFN4").default)("3a5ee1aa",i,!0,{})},s4QZ:function(a,t,e){(a.exports=e("Vmy+")(!1)).push([a.i,"img.icon[data-v-ae39a288]{margin-right:0!important}img.icon.achievement[data-v-ae39a288]{margin:8px;height:60px;width:60px;object-fit:contain}img.icon.achievement.ribbon[data-v-ae39a288]{height:30px}img.icon.achievement.ribbon.small[data-v-ae39a288]{height:15px;width:30px}img.icon.achievement.small[data-v-ae39a288]{height:30px;width:30px}img.icon.game[data-v-ae39a288]{max-height:60px;max-width:60px}img.icon.game.fixed[data-v-ae39a288]{height:60px;width:60px}img.icon.game.small[data-v-ae39a288]{height:30px;width:30px}@media (max-width:767.98px){img.icon.game.fixed[data-v-ae39a288]{height:30px;width:30px}}img.icon.avatar[data-v-ae39a288]{max-height:60px;max-width:60px}img.icon.avatar.fixed[data-v-ae39a288]{height:60px;width:60px}@media (max-width:767.98px){img.icon.avatar.fixed[data-v-ae39a288]{height:30px;width:30px}}table td.buddy[data-v-ae39a288],table td.buddy_game[data-v-ae39a288],table td.icon[data-v-ae39a288]{width:60px;text-align:center}table td.centercol[data-v-ae39a288]{text-align:center}.table-responsive[data-v-ae39a288]{border-width:0}.table-responsive a[data-v-ae39a288]{color:#55387c}.buddies-activity[data-v-ae39a288] .panel-heading h1 i{font-size:12px;margin-left:-14px}.buddies-activity[data-v-ae39a288] .table tbody{vertical-align:top}.buddies-activity[data-v-ae39a288] .table tbody .buddy_game img:first-child{border-radius:50%;margin-bottom:2px}.buddies-activity[data-v-ae39a288] .table tbody a{color:#333;text-decoration:none}.buddies-activity[data-v-ae39a288] .table tbody a .chevron-action{bottom:-5px}.buddies-activity[data-v-ae39a288] .table tbody tr.clickable:hover .buddy.icon{background-color:#fff}.buddies-activity[data-v-ae39a288] .table tbody tr.clickable:hover .fa-chevron-right{color:#fff}.buddies-activity[data-v-ae39a288] .table tbody tr td{border:none;vertical-align:middle}.buddies-activity[data-v-ae39a288] .table tbody tr td.buddy img{border-radius:50%}.buddies-activity[data-v-ae39a288] .table tbody tr td .history-game{color:#831fdb;display:inline-block;padding:5px;text-decoration:none;z-index:100}.buddies-activity[data-v-ae39a288] .table tbody tr td .history-game:hover{background-color:#831fdb;color:#fff}.buddies-activity[data-v-ae39a288] .table tbody ul{list-style:none;padding:0;text-decoration:none}.buddies-activity[data-v-ae39a288] .table tbody ul li{font-size:.9em}.buddies-activity[data-v-ae39a288] .table tbody ul li.buddy{color:#831fdb}.buddies-activity[data-v-ae39a288] .table tbody ul li.name{font-weight:500;font-size:1.1em}.buddies-activity[data-v-ae39a288] .table tbody .chevron-action{float:right;height:50px;position:relative;text-align:center;bottom:20px;vertical-align:middle}.buddies-activity[data-v-ae39a288] .table tbody .chevron-action .fa-chevron-right{position:relative;top:15px;color:#d3d3d3;font-weight:700}.buddies-activity[data-v-ae39a288] .table tbody :hover>.chevron-action .fa-chevron-right{color:#fff}.buddies-activity[data-v-ae39a288] .table tbody .buddy.icon:hover~td{background-color:#fff}.buddies-activity[data-v-ae39a288] .table tbody .buddy.icon:hover~td .fa-chevron-right{color:#d3d3d3}",""])},uzUf:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e("uj17"),n=e.n(i),s=e("DPF+"),r=e("wYgs"),c=e("ByyM"),o=e("hYtS"),d=e("MgXD"),l=e("7Mi/"),u={name:"buddies_activities",mixins:[s.a],components:{pagination:o.a},computed:{lastUsedTrans:function(){return this.config.last_used},pageCount:function(){return this.activities?Math.ceil(this.activities.total/this.itemsPerPage):0}},methods:{getActivities:function(a){var t=this;n.a.all([Object(d.a)("/v1/user/me/buddies",a,{sort:"activity",extras:"last_activity,avatar",limit:this.itemsPerPage},{total:this.activities?this.activities.total:0,cache:l.a}),c.a.all(),c.a.rankables()]).then(n.a.spread(function(e,i,n){t.rankables=n.data.rankingGames,t.games=i.data.games,t.activities=e.data,a&&(t.currentPage=a),t.pageCount>1&&1===t.currentPage&&setTimeout(function(){var a=document.querySelector(".buddies-info .panel .table-responsive table");a.style.minHeight=a.offsetHeight+"px",document.querySelector(".buddies-info .panel .table-responsive table tr td").style.maxHeight="85px",document.querySelector(".buddies-info .panel .table-responsive table tr td").style.height="85px"},5)}))},profileUrl:function(a){return this.baseHost+"/"+this.lang+"/profile/"+a},isRankable:function(a){return this.rankables&&this.rankables.findIndex(function(t){return t===a})>=0},goHistory:function(a){this.isIn3rdParty?window.open(a.target.href):window.location=a.target.href}},mounted:function(){r.a.ifInitialized(this.getActivities)},data:function(){return{itemsPerPage:10,currentPage:1,activities:null,games:null,rankables:null}}},g={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("panel",{staticClass:"buddies-activity",attrs:{config:a.config}},[e("template",{slot:"header"},[e("i",{staticClass:"fanet anet-buddies"},[a._v(" ")]),a._v(a._s(a.title))]),a._v(" "),e("template",{slot:"table_responsive"},[null===a.activities?[e("LoadingComp")]:[e("table",{staticClass:"table buddies activity"},[e("keep-alive",[a.activities.buddies.length>0?e("tbody",[a._l(a.activities.buddies,function(t){return t.user_activity&&a.games[t.user_activity.game_id]?e("tr",{key:t.id,staticClass:"clickable"},[["sm","xs","xxs"].includes(a.$mq)?[e("td",{staticClass:"buddy_game"},[e("a",{attrs:{href:a.profileUrl(t.id),target:a.isIn3rdParty?"_blank":"_self"}},[e("img",{staticClass:"icon avatar fixed",attrs:{src:t.avatar},on:{error:a.avatarError}})]),e("br"),e("a",{attrs:{href:a.urlFor("game-index",{id:t.user_activity.game_id}),target:a.isIn3rdParty?"_blank":"_self"}},[a.games[t.user_activity.game_id].icon?e("img",{staticClass:"icon game fixed",attrs:{src:a.games[t.user_activity.game_id].icon},on:{error:a.gameIconError}}):a._e()])])]:[e("td",{staticClass:"buddy icon"},[e("a",{attrs:{href:a.profileUrl(t.id),target:a.isIn3rdParty?"_blank":"_self"}},[e("img",{staticClass:"icon avatar fixed",attrs:{src:t.avatar},on:{error:a.avatarError}})])]),a._v(" "),e("td",{staticClass:"game icon"},[e("a",{attrs:{href:a.urlFor("game-index",{id:t.user_activity.game_id}),target:a.isIn3rdParty?"_blank":"_self"}},[a.games[t.user_activity.game_id].icon?e("img",{staticClass:"icon game fixed",attrs:{src:a.games[t.user_activity.game_id].icon},on:{error:a.gameIconError}}):a._e()])])],a._v(" "),e("td",[e("a",{attrs:{href:a.urlFor("game-index",{id:t.user_activity.game_id}),target:a.isIn3rdParty?"_blank":"_self"}},[e("div",{staticClass:"chevron-action"},[e("font-awesome-icon",{attrs:{icon:"chevron-right",size:"2x"}})],1),a._v(" "),e("ul",[e("li",{staticClass:"buddy name"},[a._v(a._s(t.login_name))]),a._v(" "),e("li",{staticClass:"game name"},[a._v(a._s(a.games[t.user_activity.game_id].name))]),a._v(" "),e("li",[["xs","xxs"].includes(a.$mq)?[e("time",{attrs:{date:t.user_activity.last_used}},[a._v(a._s(a.$moment.unix(t.user_activity.last_used).format("L HH:mm")))])]:[a._v(a._s(a.getTrans("last_used"))+" "),e("time",{attrs:{date:t.user_activity.last_used}},[a._v(a._s(a.$moment.unix(t.user_activity.last_used).format("LLLL")))])]],2),a._v(" "),a.isRankable(t.user_activity.game_id)?e("li",[e("a",{staticClass:"history-game",attrs:{href:a.urlFor("history-game",{id:t.user_activity.game_id})+"?u="+t.id},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),a.goHistory(t)}}},[a._v(a._s(a.getTrans("game_history_link")))])]):a._e()])])])],2):a._e()}),a._v(" "),a._l(Math.max(a.itemsPerPage-a.activities.buddies.length||0),function(t){return a.currentPage>1?e("tr",{key:t},[e("td",{staticClass:"buddy icon"}),a._v(" "),e("td",{staticClass:"game icon"}),a._v(" "),e("td")]):a._e()})],2):e("tbody",[e("tr",[e("td",[a._v(a._s(a.getTrans("nobody")))])])])]),a._v(" "),a.pageCount>1?e("tfoot",[e("tr",[e("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[e("pagination",{attrs:{"current-page":a.currentPage,"page-count":a.pageCount,lang:a.lang,size:"small"},on:{navigate:a.getActivities}})],1)])]):a._e()],1)]],2)],2)},staticRenderFns:[]};var v=e("mUJo")(u,g,!1,function(a){e("ljL0")},"data-v-ae39a288",null);t.default=v.exports}});
//# sourceMappingURL=asnetapi.7.2783e00533ca2bed3f3a.js.map