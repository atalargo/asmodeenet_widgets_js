webpackJsonp([7],{"24dM":function(t,a,e){(t.exports=e("Vmy+")(!1)).push([t.i,"img.icon[data-v-f1661324]{margin-right:0!important}img.icon.achievement[data-v-f1661324]{margin:8px;height:60px;width:60px;object-fit:contain}img.icon.achievement.ribbon[data-v-f1661324]{height:30px}img.icon.achievement.ribbon.small[data-v-f1661324]{height:15px;width:30px}img.icon.achievement.small[data-v-f1661324]{height:30px;width:30px}img.icon.game[data-v-f1661324]{max-height:60px;max-width:60px}img.icon.game.fixed[data-v-f1661324]{height:60px;width:60px}img.icon.game.small[data-v-f1661324]{height:30px;width:30px}@media (max-width:767.98px){img.icon.game.fixed[data-v-f1661324]{height:30px;width:30px}}img.icon.avatar[data-v-f1661324]{max-height:60px;max-width:60px}img.icon.avatar.fixed[data-v-f1661324]{height:60px;width:60px}@media (max-width:767.98px){img.icon.avatar.fixed[data-v-f1661324]{height:30px;width:30px}}table td.buddy[data-v-f1661324],table td.buddy_game[data-v-f1661324],table td.icon[data-v-f1661324]{width:60px;text-align:center}table td.centercol[data-v-f1661324]{text-align:center}.table-responsive[data-v-f1661324]{border-width:0}.table-responsive a[data-v-f1661324]{color:#55387c}.buddies-activity[data-v-f1661324] .panel-heading h1 i{font-size:12px;margin-left:-14px}.buddies-activity[data-v-f1661324] .table tbody{vertical-align:top}.buddies-activity[data-v-f1661324] .table tbody .buddy_game img:first-child{border-radius:50%;margin-bottom:2px}.buddies-activity[data-v-f1661324] .table tbody a{color:#333;text-decoration:none}.buddies-activity[data-v-f1661324] .table tbody a .chevron-action{bottom:-5px}.buddies-activity[data-v-f1661324] .table tbody tr.clickable:hover .buddy.icon{background-color:#fff}.buddies-activity[data-v-f1661324] .table tbody tr.clickable:hover .fa-chevron-right{color:#fff}.buddies-activity[data-v-f1661324] .table tbody tr td{border:none;vertical-align:middle}.buddies-activity[data-v-f1661324] .table tbody tr td.buddy img{border-radius:50%}.buddies-activity[data-v-f1661324] .table tbody tr td .history-game{color:#831fdb;display:inline-block;padding:5px;text-decoration:none;z-index:100}.buddies-activity[data-v-f1661324] .table tbody tr td .history-game:hover{background-color:#831fdb;color:#fff}.buddies-activity[data-v-f1661324] .table tbody ul{list-style:none;padding:0;text-decoration:none}.buddies-activity[data-v-f1661324] .table tbody ul li{font-size:.9em}.buddies-activity[data-v-f1661324] .table tbody ul li.buddy{color:#831fdb}.buddies-activity[data-v-f1661324] .table tbody ul li.name{font-weight:500;font-size:1.1em}.buddies-activity[data-v-f1661324] .table tbody .chevron-action{float:right;height:50px;position:relative;text-align:center;bottom:20px;vertical-align:middle}.buddies-activity[data-v-f1661324] .table tbody .chevron-action .fa-chevron-right{position:relative;top:15px;color:#d3d3d3;font-weight:700}.buddies-activity[data-v-f1661324] .table tbody :hover>.chevron-action .fa-chevron-right{color:#fff}.buddies-activity[data-v-f1661324] .table tbody .buddy.icon:hover~td{background-color:#fff}.buddies-activity[data-v-f1661324] .table tbody .buddy.icon:hover~td .fa-chevron-right{color:#d3d3d3}",""])},"5cRM":function(t,a,e){(t.exports=e("Vmy+")(!1)).push([t.i,"nav[data-v-6ff086dc]{text-align:center}nav .pagination[data-v-6ff086dc]{font-size:.9em}nav .pagination[data-v-6ff086dc] li.next a,nav .pagination[data-v-6ff086dc] li.previous a{cursor:pointer}nav .pagination[data-v-6ff086dc] li.next.disabled a,nav .pagination[data-v-6ff086dc] li.previous.disabled a{cursor:not-allowed}nav .pagination[data-v-6ff086dc] li a{color:#55387c}nav .pagination[data-v-6ff086dc] li.active a{color:#fff}@media (max-width:991.98px){nav .pagination[data-v-6ff086dc] .pagination a{padding:4px 9px}}@media (max-width:449.98px){nav .pagination[data-v-6ff086dc] .pagination{font-size:.8em;margin:1em 0}nav .pagination[data-v-6ff086dc] .pagination a{padding:3px 6px}}@media (max-width:359.98px){nav .pagination[data-v-6ff086dc] a,nav .pagination[data-v-6ff086dc] span{padding:3px 6px}}",""])},"6xwZ":function(t,a,e){var i=e("5cRM");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,e("pFN4").default)("079f7e18",i,!0,{})},"7Mi/":function(t,a,e){"use strict";e.d(a,"a",function(){return n}),e.d(a,"b",function(){return s});var i=e("XQ85");const n=new i.a;n.maxAge=6e5;const s=new i.a;s.maxAge=864e5},ByyM:function(t,a,e){"use strict";var i=e("wYgs"),n=e("7Mi/");const s={all:()=>i.a.http.get(i.a.convert("/v1/games"),{cache:n.b}),rankables:()=>i.a.http.get(i.a.convert("/v1/game/rankables"),{cache:n.b}),achievements:t=>i.a.http.get(i.a.convert("/v1/game/"+t+"/achievements?limit=200"),{cache:n.b}),crosspromo:(t,a)=>i.a.http.get(i.a.convert("/v1/game/"+t+"/product/"+a),{cache:n.b})};a.a=s},"DPF+":function(t,a,e){"use strict";var i=e("vdRI"),n=function(t){delete t.target.onerror,t.target.src="https://cdn.daysofwonder.com/images/avatars/avatar-neutral.jpg"},s=function(t){delete t.target.onerror,delete t.target.src},r=function(t){delete t.target.onerror,delete t.target.src},c=function(t){delete t.target.onerror,delete t.target.src};var o=function(){const t=/^({(-?\d+(\.\d+)?\s*(,?\s*(-?\d+(\.\d+)?))*)})\s(.+)$/,a=/^(([[\]])\s*(-Inf|-?\d+(\.\d+)?)\s*,\s*(\+?Inf|-?\d+(\.\d+)?)\s*([[\]]))\s(.+)$/;function e(t){return"-Inf"===t?-1/0:"+Inf"===t||"Inf"===t?1/0:parseFloat(t)}let i=function(i,n){n=n.trim();let s=t.exec(n)||a.exec(n);if(!s)return console.error('"'+n+'" is not a valid interval.'),!1;if(s[3]){let t=e(s[3]),a=e(s[5]);return("["===s[2]?i>=t:i>t)&&("]"===s[7]?i<=a:i<a)}{let t=s[2].split(",");for(let a=0;a<t.length;a++){let e=t[a];if(i===parseInt(e))return!0}}return!1},n=function(t,a){switch("pt_BR"===a&&(a="xbr"),a.length>3&&(a=a.split("_")[0]),a){case"az":case"bo":case"dz":case"id":case"ja":case"jv":case"ka":case"km":case"kn":case"ko":case"ms":case"th":case"tr":case"vi":case"zh":return 0;case"af":case"bn":case"bg":case"ca":case"da":case"de":case"el":case"en":case"eo":case"es":case"et":case"eu":case"fa":case"fi":case"fo":case"fur":case"fy":case"gl":case"gu":case"ha":case"he":case"hu":case"is":case"it":case"ku":case"lb":case"ml":case"mn":case"mr":case"nah":case"nb":case"ne":case"nl":case"nn":case"no":case"oc":case"om":case"or":case"pa":case"pap":case"ps":case"pt":case"so":case"sq":case"sv":case"sw":case"ta":case"te":case"tk":case"ur":case"zu":return 1===t?0:1;case"am":case"bh":case"fil":case"fr":case"gun":case"hi":case"hy":case"ln":case"mg":case"nso":case"xbr":case"ti":case"wa":return 0===t||1===t?0:1;case"be":case"bs":case"hr":case"ru":case"sh":case"sr":case"uk":return 1===t&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2;case"cs":case"sk":return 1===t?0:t>=2&&t<=4?1:2;case"ga":return 1===t?0:2===t?1:2;case"lt":return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2;case"sl":return t%100==1?0:t%100==2?1:t%100==3||t%100==4?2:3;case"mk":return t%10==1?0:1;case"mt":return 1===t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3;case"lv":return 0===t?0:t%10==1&&t%100!=11?1:2;case"pl":return 1===t?0:t%10>=2&&t%10<=4&&(t%100<12||t%100>14)?1:2;case"cy":return 1===t?0:2===t?1:8===t||11===t?2:3;case"ro":return 1===t?0:0===t||t%100>0&&t%100<20?1:2;case"ar":return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11&&t%100<=99?4:5;default:return 0}},s=function(t,a){return a&&Object.keys(a).forEach(function(e){t=t.replace(e,a[e])}),t};return{getTrans:function(t,a,e,i){if(void 0!==t[e]){return s(t[e],i)}return""},getTransChoice:function(e,r,c,o,d){if(void 0!==e[o]){let l=function(e,s,r){let c,o=e.split("|"),d={},l=[];o.forEach(function(e){e=e.replace("||","|").trim(),(c=t.exec(e))?d[c[0]]=c:(c=a.exec(e))?d[c[0]]=c:(c=/^\w+:\s*(.*?)$/.exec(e))?l.push(c[1]):l.push(e)});let u=Object.keys(d);for(let t=0;t<u.length;t++){let a=u[t];if(i(s,a))return d[a][d[a].length-1]}let g=n(s,r);return void 0===l[g]?1===o.length&&void 0!==l[0]?l[0]:(console.error('Unable to choose a translation for "'+e+'" with locale "'+r+'" for value "'+s+'". Double check that this translation has the correct plural options (e.g. "There is one apple|There are %%count%% apples").'),""):l[g]}(e[o],c,r);return s(l,d)}return""}}}();const d={keyforge:"https://www.keyforgegame.com/",xwing:"https://squadbuilder.fantasyflightgames.com/"},l={props:["config"],computed:{title(){return this.getTrans(this.$options.name+"_title")},lang(){return this.$moment.locale()!==i.a.getters.globalOptions.lang&&this.$moment.locale(i.a.getters.globalOptions.lang),i.a.getters.globalOptions.lang},gameIconError:()=>s,avatarError:()=>n,achievementError:()=>r,genericImageError:()=>c,isLogged:()=>!i.a.getters.unloggedMode,isIn3rdParty:()=>!!i.a.getters.globalOptions.in_3rd_party,baseHost:()=>i.a.getters.globalOptions.host?i.a.getters.globalOptions.host.replace(/\/$/,""):"",baseISImageHost:()=>"https://ncdn.asmodee.net/is/img/"},methods:{getTrans(t,a){return o.getTrans(this.config.trans,this.lang,t,a)},getTransChoice(t,a,e){return o.getTransChoice(this.config.trans,this.lang,t,a,e)},urlFor(t,a){if(a=a||{},this.config.urls&&this.config.urls[t]){let e=this.config.urls[t];return Object.keys(a).forEach(function(t){e=e.replace(":"+t,a[t])}),/^\/[a-z]{2}\/.*/.exec(e)||(e="/"+this.lang+e),this.baseHost+e}return""},gameUrl(t){return["keyforge","xwing"].includes(t)?d[t]:this.urlFor("game-index",{id:t})},goToGame(t){let a=this.gameUrl(t);return["keyforge","xwing"].includes(t)?window.open(a):this.isIn3rdParty?window.open(a):window.location=a,!1},goToGameRanking(t){let a=this.urlFor("rankings-game",{id:t});this.isIn3rdParty?window.open(a):window.location=a},forceHTTPS:t=>t?t.replace("^http://","https://"):t}};a.a=l},MgXD:function(t,a,e){"use strict";var i=e("wYgs");a.a=((t,a,e,n)=>{a=a||1,n=n||{},e.limit=e.limit||10,e.offset=(a-1)*e.limit,n.total&&e.offset>n.total&&(e.offset=n.total);let s={params:e};return n.cache&&(s.cache=n.cache),i.a.http.get(i.a.convert(t),s)})},"a/eE":function(t,a,e){var i=e("24dM");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,e("pFN4").default)("21147412",i,!0,{})},hYtS:function(t,a,e){"use strict";var i={props:{lang:String,currentPage:{type:Number,required:!0,validator:function(t){return t>0}},pageCount:{type:Number,required:!0,validator:function(t){return t>=0}},size:{type:Number,required:!1,default:15,validator:function(t){return t%2==1}}},computed:{pageRange:function(){var t=Math.max(1,this.currentPage-Math.floor(this.size/2));return t=Math.max(1,Math.min(t,this.pageCount-this.size+1)),Array.apply(null,{length:Math.min(this.pageCount,this.size)}).map(function(a,e){return e+t})}},methods:{navigate:function(t){t>this.pageCount||t===this.currentPage||t<=0||this.$emit("navigate",t)}},data:function(){return{}}},n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.pageCount>1?e("nav",{attrs:{"aria-label":"Page navigation"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"first",class:{disabled:1===t.currentPage}},[e("a",{attrs:{href:"#",disabled:1===t.currentPage},on:{click:function(a){a.preventDefault(),t.navigate(1)}}},[t._v("<<")])]),t._v(" "),1===t.size||t.pageRange.length>=3?e("li",{staticClass:"previous",class:{disabled:1===t.currentPage}},[e("a",{attrs:{href:"#",disabled:1===t.currentPage},on:{click:function(a){a.preventDefault(),t.navigate(t.currentPage-1)}}},[t._v("<")])]):t._e(),t._v(" "),1===t.size?[e("li",{staticClass:"disabled"},[e("a",{attrs:{disabled:"1"}},[["xs","xxs"].includes(t.$mq)?t._e():[t._v(t._s("de"===t.lang?"Seite":"Page")+" ")],t._v(t._s(t.currentPage)+" "+t._s("fr"===t.lang?"sur":"de"===t.lang?"von":"of")+" "+t._s(t.pageCount))],2)])]:t._l(t.pageRange,function(a){return e("li",{key:a,class:{active:a===t.currentPage},attrs:{"data-page":a}},[e("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.navigate(a)}}},[t._v(t._s(a))])])}),t._v(" "),1===t.size||t.pageRange.length>=3?e("li",{staticClass:"next",class:{disabled:t.currentPage+1>t.pageCount}},[e("a",{attrs:{href:"#",disabled:t.currentPage+1>t.pageCount},on:{click:function(a){a.preventDefault(),t.navigate(t.currentPage+1)}}},[t._v(">")])]):t._e(),t._v(" "),e("li",{staticClass:"last",class:{disabled:t.currentPage>=t.pageCount}},[e("a",{attrs:{href:"#",disabled:t.currentPage>=t.pageCount},on:{click:function(a){a.preventDefault(),t.navigate(t.pageCount)}}},[t._v(">>")])])],2)]):t._e()},staticRenderFns:[]};var s=e("mUJo")(i,n,!1,function(t){e("6xwZ")},"data-v-6ff086dc",null);a.a=s.exports},uzUf:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("uj17"),n=e.n(i),s=e("DPF+"),r=e("wYgs"),c=e("ByyM"),o=e("hYtS"),d=e("MgXD"),l=e("7Mi/"),u={name:"buddies_activities",mixins:[s.a],components:{pagination:o.a},computed:{lastUsedTrans:function(){return this.config.last_used},pageCount:function(){return this.activities?Math.ceil(this.activities.total/this.itemsPerPage):0}},methods:{getActivities:function(t){var a=this;n.a.all([Object(d.a)("/v1/user/me/buddies",t,{sort:"activity",extras:"last_activity,avatar",limit:this.itemsPerPage},{total:this.activities?this.activities.total:0,cache:l.a}),c.a.all(),c.a.rankables()]).then(n.a.spread(function(e,i,n){a.rankables=n.data.rankingGames,a.games=i.data.games,a.activities=e.data,t&&(a.currentPage=t),a.pageCount>1&&1===a.currentPage&&setTimeout(function(){var t=document.querySelector(".buddies-info .panel .table-responsive table");t.style.minHeight=t.offsetHeight+"px",document.querySelector(".buddies-info .panel .table-responsive table tr td").style.maxHeight="85px",document.querySelector(".buddies-info .panel .table-responsive table tr td").style.height="85px"},5)}))},profileUrl:function(t){return this.baseHost+"/"+this.lang+"/profile/"+t},isRankable:function(t){return this.rankables&&this.rankables.findIndex(function(a){return a===t})>=0},goHistory:function(t){this.isIn3rdParty?window.open(t.target.href):window.location=t.target.href}},mounted:function(){r.a.ifInitialized(this.getActivities)},data:function(){return{itemsPerPage:10,currentPage:1,activities:null,games:null,rankables:null}}},g={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("panel",{staticClass:"buddies-activity",attrs:{config:t.config}},[e("template",{slot:"header"},[e("i",{staticClass:"fanet anet-buddies"},[t._v(" ")]),t._v(t._s(t.title))]),t._v(" "),e("template",{slot:"table_responsive"},[null===t.activities?[e("LoadingComp")]:[e("table",{staticClass:"table buddies activity"},[e("keep-alive",[t.activities.buddies.length>0?e("tbody",[t._l(t.activities.buddies,function(a){return a.user_activity&&t.games[a.user_activity.game_id]?e("tr",{key:a.id,staticClass:"clickable"},[["sm","xs","xxs"].includes(t.$mq)?[e("td",{staticClass:"buddy_game"},[e("a",{attrs:{href:t.profileUrl(a.id),target:t.isIn3rdParty?"_blank":"_self"}},[e("img",{staticClass:"icon avatar fixed",attrs:{src:a.avatar},on:{error:t.avatarError}})]),e("br"),e("a",{attrs:{href:t.gameUrl(a.user_activity.game_id)},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.goToGame(a.user_activity.game_id)}}},[t.games[a.user_activity.game_id].icon?e("img",{staticClass:"icon game fixed",attrs:{src:t.games[a.user_activity.game_id].icon},on:{error:t.gameIconError}}):t._e()])])]:[e("td",{staticClass:"buddy icon"},[e("a",{attrs:{href:t.profileUrl(a.id),target:t.isIn3rdParty?"_blank":"_self"}},[e("img",{staticClass:"icon avatar fixed",attrs:{src:a.avatar},on:{error:t.avatarError}})])]),t._v(" "),e("td",{staticClass:"game icon"},[e("a",{attrs:{href:t.gameUrl(a.user_activity.game_id)},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.goToGame(a.user_activity.game_id)}}},[t.games[a.user_activity.game_id].icon?e("img",{staticClass:"icon game fixed",attrs:{src:t.games[a.user_activity.game_id].icon},on:{error:t.gameIconError}}):t._e()])])],t._v(" "),e("td",[e("a",{attrs:{href:t.gameUrl(a.user_activity.game_id)},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.goToGame(a.user_activity.game_id)}}},[e("div",{staticClass:"chevron-action"},[e("font-awesome-icon",{attrs:{icon:"chevron-right",size:"2x"}})],1),t._v(" "),e("ul",[e("li",{staticClass:"buddy name"},[t._v(t._s(a.login_name))]),t._v(" "),e("li",{staticClass:"game name"},[t._v(t._s(t.games[a.user_activity.game_id].name))]),t._v(" "),e("li",[["xs","xxs"].includes(t.$mq)?[e("time",{attrs:{date:a.user_activity.last_used}},[t._v(t._s(t.$moment.unix(a.user_activity.last_used).format("L HH:mm")))])]:[t._v(t._s(t.getTrans("last_used"))+" "),e("time",{attrs:{date:a.user_activity.last_used}},[t._v(t._s(t.$moment.unix(a.user_activity.last_used).format("LLLL")))])]],2),t._v(" "),t.isRankable(a.user_activity.game_id)?e("li",[e("a",{staticClass:"history-game",attrs:{href:t.urlFor("history-game",{id:a.user_activity.game_id})+"?u="+a.id},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.goHistory(a)}}},[t._v(t._s(t.getTrans("game_history_link")))])]):t._e()])])])],2):t._e()}),t._v(" "),t._l(Math.max(t.itemsPerPage-t.activities.buddies.length||0),function(a){return t.currentPage>1?e("tr",{key:a},[e("td",{staticClass:"buddy icon"}),t._v(" "),e("td",{staticClass:"game icon"}),t._v(" "),e("td")]):t._e()})],2):e("tbody",[e("tr",[e("td",[t._v(t._s(t.getTrans("nobody")))])])])]),t._v(" "),t.pageCount>1?e("tfoot",[e("tr",[e("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[e("pagination",{attrs:{"current-page":t.currentPage,"page-count":t.pageCount,lang:t.lang,size:"small"},on:{navigate:t.getActivities}})],1)])]):t._e()],1)]],2)],2)},staticRenderFns:[]};var f=e("mUJo")(u,g,!1,function(t){e("a/eE")},"data-v-f1661324",null);a.default=f.exports}});
//# sourceMappingURL=asnetapi.7.9544084001c183540912.js.map