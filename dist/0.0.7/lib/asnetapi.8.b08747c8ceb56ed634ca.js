webpackJsonp([8],{"5cRM":function(t,e,a){(t.exports=a("Vmy+")(!1)).push([t.i,"nav[data-v-6ff086dc]{text-align:center}nav .pagination[data-v-6ff086dc]{font-size:.9em}nav .pagination[data-v-6ff086dc] li.next a,nav .pagination[data-v-6ff086dc] li.previous a{cursor:pointer}nav .pagination[data-v-6ff086dc] li.next.disabled a,nav .pagination[data-v-6ff086dc] li.previous.disabled a{cursor:not-allowed}nav .pagination[data-v-6ff086dc] li a{color:#55387c}nav .pagination[data-v-6ff086dc] li.active a{color:#fff}@media (max-width:991.98px){nav .pagination[data-v-6ff086dc] .pagination a{padding:4px 9px}}@media (max-width:449.98px){nav .pagination[data-v-6ff086dc] .pagination{font-size:.8em;margin:1em 0}nav .pagination[data-v-6ff086dc] .pagination a{padding:3px 6px}}@media (max-width:359.98px){nav .pagination[data-v-6ff086dc] a,nav .pagination[data-v-6ff086dc] span{padding:3px 6px}}",""])},"6xwZ":function(t,e,a){var i=a("5cRM");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("pFN4").default)("079f7e18",i,!0,{})},"7Mi/":function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var i=a("XQ85");const n=new i.a;n.maxAge=6e5;const s=new i.a;s.maxAge=864e5},ByyM:function(t,e,a){"use strict";var i=a("wYgs"),n=a("7Mi/");const s={all:()=>i.a.http.get(i.a.convert("/v1/games"),{cache:n.b}),rankables:()=>i.a.http.get(i.a.convert("/v1/game/rankables"),{cache:n.b}),achievements:t=>i.a.http.get(i.a.convert("/v1/game/"+t+"/achievements?limit=200"),{cache:n.b}),crosspromo:(t,e)=>i.a.http.get(i.a.convert("/v1/game/"+t+"/product/"+e),{cache:n.b}),counterData:t=>i.a.http.get(t+"/game-counter",{cache:n.b})};e.a=s},"DPF+":function(t,e,a){"use strict";var i=a("vdRI"),n=function(t){delete t.target.onerror,t.target.src="https://cdn.daysofwonder.com/images/avatars/avatar-neutral.jpg"},s=function(t){delete t.target.onerror,delete t.target.src},r=function(t){delete t.target.onerror,delete t.target.src},c=function(t){delete t.target.onerror,delete t.target.src};var o=function(){const t=/^({(-?\d+(\.\d+)?\s*(,?\s*(-?\d+(\.\d+)?))*)})\s(.+)$/,e=/^(([[\]])\s*(-Inf|-?\d+(\.\d+)?)\s*,\s*(\+?Inf|-?\d+(\.\d+)?)\s*([[\]]))\s(.+)$/;function a(t){return"-Inf"===t?-1/0:"+Inf"===t||"Inf"===t?1/0:parseFloat(t)}let i=function(i,n){n=n.trim();let s=t.exec(n)||e.exec(n);if(!s)return console.error('"'+n+'" is not a valid interval.'),!1;if(s[3]){let t=a(s[3]),e=a(s[5]);return("["===s[2]?i>=t:i>t)&&("]"===s[7]?i<=e:i<e)}{let t=s[2].split(",");for(let e=0;e<t.length;e++){let a=t[e];if(i===parseInt(a))return!0}}return!1},n=function(t,e){switch("pt_BR"===e&&(e="xbr"),e.length>3&&(e=e.split("_")[0]),e){case"az":case"bo":case"dz":case"id":case"ja":case"jv":case"ka":case"km":case"kn":case"ko":case"ms":case"th":case"tr":case"vi":case"zh":return 0;case"af":case"bn":case"bg":case"ca":case"da":case"de":case"el":case"en":case"eo":case"es":case"et":case"eu":case"fa":case"fi":case"fo":case"fur":case"fy":case"gl":case"gu":case"ha":case"he":case"hu":case"is":case"it":case"ku":case"lb":case"ml":case"mn":case"mr":case"nah":case"nb":case"ne":case"nl":case"nn":case"no":case"oc":case"om":case"or":case"pa":case"pap":case"ps":case"pt":case"so":case"sq":case"sv":case"sw":case"ta":case"te":case"tk":case"ur":case"zu":return 1===t?0:1;case"am":case"bh":case"fil":case"fr":case"gun":case"hi":case"hy":case"ln":case"mg":case"nso":case"xbr":case"ti":case"wa":return 0===t||1===t?0:1;case"be":case"bs":case"hr":case"ru":case"sh":case"sr":case"uk":return 1===t&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2;case"cs":case"sk":return 1===t?0:t>=2&&t<=4?1:2;case"ga":return 1===t?0:2===t?1:2;case"lt":return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2;case"sl":return t%100==1?0:t%100==2?1:t%100==3||t%100==4?2:3;case"mk":return t%10==1?0:1;case"mt":return 1===t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3;case"lv":return 0===t?0:t%10==1&&t%100!=11?1:2;case"pl":return 1===t?0:t%10>=2&&t%10<=4&&(t%100<12||t%100>14)?1:2;case"cy":return 1===t?0:2===t?1:8===t||11===t?2:3;case"ro":return 1===t?0:0===t||t%100>0&&t%100<20?1:2;case"ar":return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11&&t%100<=99?4:5;default:return 0}},s=function(t,e){return e&&Object.keys(e).forEach(function(a){t=t.replace(a,e[a])}),t};return{getTrans:function(t,e,a,i){if(void 0!==t[a]){return s(t[a],i)}return""},getTransChoice:function(a,r,c,o,d){if(void 0!==a[o]){let l=function(a,s,r){let c,o=a.split("|"),d={},l=[];o.forEach(function(a){a=a.replace("||","|").trim(),(c=t.exec(a))?d[c[0]]=c:(c=e.exec(a))?d[c[0]]=c:(c=/^\w+:\s*(.*?)$/.exec(a))?l.push(c[1]):l.push(a)});let u=Object.keys(d);for(let t=0;t<u.length;t++){let e=u[t];if(i(s,e))return d[e][d[e].length-1]}let g=n(s,r);return void 0===l[g]?1===o.length&&void 0!==l[0]?l[0]:(console.error('Unable to choose a translation for "'+a+'" with locale "'+r+'" for value "'+s+'". Double check that this translation has the correct plural options (e.g. "There is one apple|There are %%count%% apples").'),""):l[g]}(a[o],c,r);return s(l,d)}return""}}}();const d={keyforge:"https://www.keyforgegame.com/",xwing:"https://squadbuilder.fantasyflightgames.com/"},l={props:["config"],computed:{title(){return this.getTrans(this.$options.name+"_title")},lang(){return this.$moment.locale()!==i.a.getters.globalOptions.lang&&this.$moment.locale(i.a.getters.globalOptions.lang),i.a.getters.globalOptions.lang},gameIconError:()=>s,avatarError:()=>n,achievementError:()=>r,genericImageError:()=>c,isLogged:()=>!i.a.getters.unloggedMode,isIn3rdParty:()=>!!i.a.getters.globalOptions.in_3rd_party,baseHost:()=>i.a.getters.globalOptions.host?i.a.getters.globalOptions.host.replace(/\/$/,""):"",baseISImageHost:()=>"https://ncdn.asmodee.net/is/img/"},methods:{getTrans(t,e){return o.getTrans(this.config.trans,this.lang,t,e)},getTransChoice(t,e,a){return o.getTransChoice(this.config.trans,this.lang,t,e,a)},urlFor(t,e){if(e=e||{},this.config.urls&&this.config.urls[t]){let a=this.config.urls[t];return Object.keys(e).forEach(function(t){a=a.replace(":"+t,e[t])}),/^\/[a-z]{2}\/.*/.exec(a)||(a="/"+this.lang+a),this.baseHost+a}return""},gameUrl(t){return["keyforge","xwing"].includes(t)?d[t]:this.urlFor("game-index",{id:t})},goToGame(t){let e=this.gameUrl(t);return["keyforge","xwing"].includes(t)?window.open(e):this.isIn3rdParty?window.open(e):window.location=e,!1},goToGameRanking(t){let e=this.urlFor("rankings-game",{id:t});this.isIn3rdParty?window.open(e):window.location=e},forceHTTPS:t=>t?t.replace("^http://","https://"):t,debugDump(){console.log(...arguments)}}};e.a=l},MgXD:function(t,e,a){"use strict";var i=a("wYgs");e.a=((t,e,a,n)=>{e=e||1,n=n||{},a.limit=a.limit||10,a.offset=(e-1)*a.limit,n.total&&a.offset>n.total&&(a.offset=n.total);let s={params:a};return n.cache&&(s.cache=n.cache),i.a.http.get(i.a.convert(t),s)})},Of78:function(t,e,a){(t.exports=a("Vmy+")(!1)).push([t.i,"img.icon[data-v-6b334ef8]{margin-right:0!important}img.icon.achievement[data-v-6b334ef8]{margin:8px;height:60px;width:60px;object-fit:contain}img.icon.achievement.ribbon[data-v-6b334ef8]{height:30px}img.icon.achievement.ribbon.small[data-v-6b334ef8]{height:15px;width:30px}img.icon.achievement.small[data-v-6b334ef8]{height:30px;width:30px}img.icon.game[data-v-6b334ef8]{max-height:60px;max-width:60px}img.icon.game.fixed[data-v-6b334ef8]{height:60px;width:60px}img.icon.game.small[data-v-6b334ef8]{height:30px;width:30px}@media (max-width:767.98px){img.icon.game.fixed[data-v-6b334ef8]{height:30px;width:30px}}img.icon.avatar[data-v-6b334ef8]{max-height:60px;max-width:60px}img.icon.avatar.fixed[data-v-6b334ef8]{height:60px;width:60px}@media (max-width:767.98px){img.icon.avatar.fixed[data-v-6b334ef8]{height:30px;width:30px}}table td.buddy[data-v-6b334ef8],table td.buddy_game[data-v-6b334ef8],table td.icon[data-v-6b334ef8]{width:60px;text-align:center}table td.centercol[data-v-6b334ef8]{text-align:center}.table-responsive[data-v-6b334ef8]{border-width:0}.table-responsive a[data-v-6b334ef8]{color:#55387c}.buddies-activity[data-v-6b334ef8] .panel-heading h1 i{font-size:12px;margin-left:-14px}.buddies-activity[data-v-6b334ef8] .table tbody{vertical-align:top}.buddies-activity[data-v-6b334ef8] .table tbody .buddy_game img:first-child{border-radius:50%;margin-bottom:2px}.buddies-activity[data-v-6b334ef8] .table tbody a{color:#333;text-decoration:none}.buddies-activity[data-v-6b334ef8] .table tbody a .chevron-action{bottom:-5px}.buddies-activity[data-v-6b334ef8] .table tbody tr.clickable:hover .buddy.icon{background-color:#fff}.buddies-activity[data-v-6b334ef8] .table tbody tr.clickable:hover .fa-chevron-right{color:#fff}.buddies-activity[data-v-6b334ef8] .table tbody tr td{border:none;vertical-align:middle}.buddies-activity[data-v-6b334ef8] .table tbody tr td.buddy img{border-radius:50%}.buddies-activity[data-v-6b334ef8] .table tbody tr td .history-game{color:#831fdb;display:inline-block;padding:5px;text-decoration:none;z-index:100}.buddies-activity[data-v-6b334ef8] .table tbody tr td .history-game:hover{background-color:#831fdb;color:#fff}.buddies-activity[data-v-6b334ef8] .table tbody ul{list-style:none;padding:0;text-decoration:none}.buddies-activity[data-v-6b334ef8] .table tbody ul li{font-size:.9em}.buddies-activity[data-v-6b334ef8] .table tbody ul li.buddy{color:#831fdb}.buddies-activity[data-v-6b334ef8] .table tbody ul li.name{font-weight:500;font-size:1.1em}.buddies-activity[data-v-6b334ef8] .table tbody .chevron-action{float:right;height:50px;position:relative;text-align:center;bottom:20px;vertical-align:middle}.buddies-activity[data-v-6b334ef8] .table tbody .chevron-action .fa-chevron-right{position:relative;top:15px;color:#d3d3d3;font-weight:700}.buddies-activity[data-v-6b334ef8] .table tbody :hover>.chevron-action .fa-chevron-right{color:#fff}.buddies-activity[data-v-6b334ef8] .table tbody .buddy.icon:hover~td{background-color:#fff}.buddies-activity[data-v-6b334ef8] .table tbody .buddy.icon:hover~td .fa-chevron-right{color:#d3d3d3}",""])},hYtS:function(t,e,a){"use strict";var i={props:{lang:String,currentPage:{type:Number,required:!0,validator:function(t){return t>0}},pageCount:{type:Number,required:!0,validator:function(t){return t>=0}},size:{type:Number,required:!1,default:15,validator:function(t){return t%2==1}}},computed:{pageRange:function(){var t=Math.max(1,this.currentPage-Math.floor(this.size/2));return t=Math.max(1,Math.min(t,this.pageCount-this.size+1)),Array.apply(null,{length:Math.min(this.pageCount,this.size)}).map(function(e,a){return a+t})}},methods:{navigate:function(t){t>this.pageCount||t===this.currentPage||t<=0||this.$emit("navigate",t)}},data:function(){return{}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.pageCount>1?a("nav",{attrs:{"aria-label":"Page navigation"}},[a("ul",{staticClass:"pagination"},[a("li",{staticClass:"first",class:{disabled:1===t.currentPage}},[a("a",{attrs:{href:"#",disabled:1===t.currentPage},on:{click:function(e){e.preventDefault(),t.navigate(1)}}},[t._v("<<")])]),t._v(" "),1===t.size||t.pageRange.length>=3?a("li",{staticClass:"previous",class:{disabled:1===t.currentPage}},[a("a",{attrs:{href:"#",disabled:1===t.currentPage},on:{click:function(e){e.preventDefault(),t.navigate(t.currentPage-1)}}},[t._v("<")])]):t._e(),t._v(" "),1===t.size?[a("li",{staticClass:"disabled"},[a("a",{attrs:{disabled:"1"}},[["xs","xxs"].includes(t.$mq)?t._e():[t._v(t._s("de"===t.lang?"Seite":"Page")+" ")],t._v(t._s(t.currentPage)+" "+t._s("fr"===t.lang?"sur":"de"===t.lang?"von":"of")+" "+t._s(t.pageCount))],2)])]:t._l(t.pageRange,function(e){return a("li",{key:e,class:{active:e===t.currentPage},attrs:{"data-page":e}},[a("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.navigate(e)}}},[t._v(t._s(e))])])}),t._v(" "),1===t.size||t.pageRange.length>=3?a("li",{staticClass:"next",class:{disabled:t.currentPage+1>t.pageCount}},[a("a",{attrs:{href:"#",disabled:t.currentPage+1>t.pageCount},on:{click:function(e){e.preventDefault(),t.navigate(t.currentPage+1)}}},[t._v(">")])]):t._e(),t._v(" "),a("li",{staticClass:"last",class:{disabled:t.currentPage>=t.pageCount}},[a("a",{attrs:{href:"#",disabled:t.currentPage>=t.pageCount},on:{click:function(e){e.preventDefault(),t.navigate(t.pageCount)}}},[t._v(">>")])])],2)]):t._e()},staticRenderFns:[]};var s=a("mUJo")(i,n,!1,function(t){a("6xwZ")},"data-v-6ff086dc",null);e.a=s.exports},oKSA:function(t,e,a){var i=a("Of78");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("pFN4").default)("1390b597",i,!0,{})},uzUf:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("uj17"),n=a.n(i),s=a("DPF+"),r=a("wYgs"),c=a("ByyM"),o=a("hYtS"),d=a("MgXD"),l=a("7Mi/"),u={name:"buddies_activities",mixins:[s.a],components:{pagination:o.a},computed:{lastUsedTrans:function(){return this.config.last_used},pageCount:function(){return this.activities?Math.ceil(this.activities.total/this.itemsPerPage):0}},methods:{getActivities:function(t){var e=this;n.a.all([Object(d.a)("/v1/user/me/buddies",t,{sort:"activity",extras:"last_activity,avatar",limit:this.itemsPerPage},{total:this.activities?this.activities.total:0,cache:l.a}),c.a.all(),c.a.rankables()]).then(n.a.spread(function(a,i,n){e.rankables=n.data.rankingGames,e.games=i.data.games,e.activities=a.data,t&&(e.currentPage=t),e.pageCount>1&&1===e.currentPage&&setTimeout(function(){var t=document.querySelector(".buddies-info .panel .table-responsive table");t.style.minHeight=t.offsetHeight+"px",document.querySelector(".buddies-info .panel .table-responsive table tr td").style.maxHeight="85px",document.querySelector(".buddies-info .panel .table-responsive table tr td").style.height="85px"},5)}))},profileUrl:function(t){return this.baseHost+"/"+this.lang+"/profile/"+t},isRankable:function(t){return this.rankables&&this.rankables.findIndex(function(e){return e===t})>=0},goHistory:function(t){this.isIn3rdParty?window.open(t.target.href):window.location=t.target.href}},mounted:function(){r.a.ifInitialized(this.getActivities)},data:function(){return{itemsPerPage:10,currentPage:1,activities:null,games:null,rankables:null}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("panel",{staticClass:"buddies-activity",attrs:{config:t.config}},[a("template",{slot:"header"},[a("i",{staticClass:"fanet anet-buddies"},[t._v(" ")]),t._v(t._s(t.title))]),t._v(" "),a("template",{slot:"table_responsive"},[null===t.activities?[a("LoadingComp")]:[a("table",{staticClass:"table buddies activity"},[a("keep-alive",[t.activities.buddies.length>0?a("tbody",[t._l(t.activities.buddies,function(e){return e.user_activity&&t.games[e.user_activity.game_id]?a("tr",{key:e.id,staticClass:"clickable"},[["sm","xs","xxs"].includes(t.$mq)?[a("td",{staticClass:"buddy_game"},[a("a",{attrs:{href:t.profileUrl(e.id),target:t.isIn3rdParty?"_blank":"_self"}},[a("img",{staticClass:"icon avatar fixed",attrs:{src:e.avatar},on:{error:t.avatarError}})]),a("br"),a("a",{attrs:{href:t.gameUrl(e.user_activity.game_id)},on:{click:function(a){a.preventDefault(),a.stopPropagation(),t.goToGame(e.user_activity.game_id)}}},[t.games[e.user_activity.game_id].icon?a("img",{staticClass:"icon game fixed",attrs:{src:t.games[e.user_activity.game_id].icon},on:{error:t.gameIconError}}):t._e()])])]:[a("td",{staticClass:"buddy icon"},[a("a",{attrs:{href:t.profileUrl(e.id),target:t.isIn3rdParty?"_blank":"_self"}},[a("img",{staticClass:"icon avatar fixed",attrs:{src:e.avatar},on:{error:t.avatarError}})])]),t._v(" "),a("td",{staticClass:"game icon"},[a("a",{attrs:{href:t.gameUrl(e.user_activity.game_id)},on:{click:function(a){a.preventDefault(),a.stopPropagation(),t.goToGame(e.user_activity.game_id)}}},[t.games[e.user_activity.game_id].icon?a("img",{staticClass:"icon game fixed",attrs:{src:t.games[e.user_activity.game_id].icon},on:{error:t.gameIconError}}):t._e()])])],t._v(" "),a("td",[a("a",{attrs:{href:t.gameUrl(e.user_activity.game_id)},on:{click:function(a){a.preventDefault(),a.stopPropagation(),t.goToGame(e.user_activity.game_id)}}},[a("div",{staticClass:"chevron-action"},[a("font-awesome-icon",{attrs:{icon:"chevron-right",size:"2x"}})],1),t._v(" "),a("ul",[a("li",{staticClass:"buddy name"},[t._v(t._s(e.login_name))]),t._v(" "),a("li",{staticClass:"game name"},[t._v(t._s(t.games[e.user_activity.game_id].name))]),t._v(" "),a("li",[["xs","xxs"].includes(t.$mq)?[a("time",{attrs:{date:e.user_activity.last_used}},[t._v(t._s(t.$moment.unix(e.user_activity.last_used).format("L HH:mm")))])]:[t._v(t._s(t.getTrans("last_used"))+" "),a("time",{attrs:{date:e.user_activity.last_used}},[t._v(t._s(t.$moment.unix(e.user_activity.last_used).format("LLLL")))])]],2),t._v(" "),t.isRankable(e.user_activity.game_id)?a("li",[a("a",{staticClass:"history-game",attrs:{href:t.urlFor("history-game",{id:e.user_activity.game_id})+"?u="+e.id},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.goHistory(e)}}},[t._v(t._s(t.getTrans("game_history_link")))])]):t._e()])])])],2):t._e()}),t._v(" "),t._l(Math.max(t.itemsPerPage-t.activities.buddies.length||0),function(e){return t.currentPage>1?a("tr",{key:e},[a("td",{staticClass:"buddy icon"}),t._v(" "),a("td",{staticClass:"game icon"}),t._v(" "),a("td")]):t._e()})],2):a("tbody",[a("tr",[a("td",[t._v(t._s(t.getTrans("nobody")))])])])]),t._v(" "),t.pageCount>1?a("tfoot",[a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"3"}},[a("pagination",{attrs:{"current-page":t.currentPage,"page-count":t.pageCount,lang:t.lang,size:t._f("mq")(t.$mq,{xxs:1,md:9,xl:15})},on:{navigate:t.getActivities}})],1)])]):t._e()],1)]],2)],2)},staticRenderFns:[]};var f=a("mUJo")(u,g,!1,function(t){a("oKSA")},"data-v-6b334ef8",null);e.default=f.exports}});
//# sourceMappingURL=asnetapi.8.b08747c8ceb56ed634ca.js.map